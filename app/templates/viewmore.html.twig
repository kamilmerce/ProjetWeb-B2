{% extends "base_auth.html.twig" %}

{% block body %}
<body>
    {% if type == 'client' %}
        <h1>Informations sur le client</h1>
        <p>ID: {{ userInfo.user_id }} </p>
        <p>Nom: {{ userInfo.name }}</p>
        <p>Prénom: {{ userInfo.surname }}</p>
        <p>Email: {{ userInfo.email }}</p>
        <h2>Interventions</h2>
        <div style="width: 600px; height: 300px; overflow-y: scroll; border: 1px solid #ccc; padding: 10px; margin-bottom: 20px;">
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Date</th>
                        <th>Standardiste</th> 
                        <th>Infos</th>
                        <th>Status</th>
                        <th>Degree d'urgence</th>
                    </tr>
                </thead>
                <tbody>
                {% for intervention in interventionclient %}
                    <tr>
                        <td>{{ intervention.id }}</td>
                        <td>{{ intervention.start_date}}
                        <td>{{ intervention.standardiste_id }}</td>
                        <td>{{ intervention.infos }}</td>
                        <td>{{ intervention.status_suivi }}</td>
                        <td>{{ intervention.degre_urgence }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    {% elseif type == 'standardiste' %}
        <h1>Informations sur le standardiste</h1>
        <p>ID: {{ userInfo.user_id }} </p
        <p>Nom: {{ userInfo.name }}</p>
        <p>Prénom: {{ userInfo.surname }}</p>
        <p>Email: {{ userInfo.email }}</p>
        <h2>Interventions</h2>
        <div style="width: 600px; height: 300px; overflow-y: scroll; border: 1px solid #ccc; padding: 10px; margin-bottom: 20px;">
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Date</th>
                        <th>Client</th> 
                        <th>Infos</th>
                        <th>Status</th>
                        <th>Degree d'urgence</th>
                    </tr>
                </thead>
                <tbody>
                {% for intervention in interventionbystandardiste %}
                    <tr>
                        <td>{{ intervention.id }}</td>
                        <td>{{ intervention.start_date}}
                        <td>{{ intervention.client_id }}</td>
                        <td>{{ intervention.infos }}</td>
                        <td>{{ intervention.status_suivi }}</td>
                        <td>{{ intervention.degre_urgence }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    {% elseif type == 'intervenant' %}
        <h1>Informations sur l'intervenant</h1>
        <p>ID: {{ userInfo.user_id }} </p
        <p>Nom: {{ userInfo.name }}</p>
        <p>Prénom: {{ userInfo.surname }}</p>
        <p>Email: {{ userInfo.email }}</p>
        <h2>Interventions</h2>
        <div style="width: 600px; height: 300px; overflow-y: scroll; border: 1px solid #ccc; padding: 10px; margin-bottom: 20px;">
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Date</th>
                        <th>Standardiste</th> 
                        <th>Infos</th>
                        <th>Status</th>
                        <th>Degree d'urgence</th>
                    </tr>
                </thead>
                <tbody>
                {% for intervention in interventionbyintervenant %}
                    <tr>
                        <td>{{ intervention.id }}</td>
                        <td>{{ intervention.start_date}}
                        <td>{{ intervention.standardiste_id }}</td>
                        <td>{{ intervention.infos }}</td>
                        <td>{{ intervention.status_suivi }}</td>
                        <td>{{ intervention.degre_urgence }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    {% elseif type == 'intervention' %}
        <h1>Informations sur l'intervention</h1>
        <p>ID: {{ interventionInfo.id }} </p>
        <p>Client: {{interventionInfo.client_id}}<p/>
        <p>Standardiste: {{interventionInfo.standardiste_id}}</p>
        <p>Date de debut:  {{ interventionInfo.start_date}}</p>
        <p>Status: {{ interventionInfo.status_suivi }}</p>
        <p>Degré d'urgence: {{ interventionInfo.degre_urgence }}</p>
        <div class="comment-section">
        <h2>Commentaires</h2>
        <div class="comment-container" >
            <div class="comment" style="width: 600px; height: 300px; overflow-y: scroll; border: 1px solid #ccc; padding: 10px; margin-bottom: 20px;">
                    {% for commentaire in commentaires %}
                        <span class="comment-author">{{ commentaire.user_name }} {{ commentaire.user_surname }}</span>
                        <span class="comment-date">{{ commentaire.date_commentaire}}</span>
                        <p class="comment-content">{{ commentaire.commentaire}}</p>
                    {% endfor %}
            </div>
        </div>
    </div>
    {% else %}
        <p>Type non reconnu.</p>
    {% endif %}
</body>
{% endblock %}
