{% extends "base_auth.html.twig" %}

{% block stylesheet %}
<link rel="stylesheet" type="text/css" href="/css/myaccount.css">
{% endblock %}

{% block body %}
<div class='liste-container'>
    <div class="en-tete">
        <h1>Parametre du compte</h1>
    </div>
    <div class='contain'>
        <div class='photo-container'>
            <img src="{{ user.photo }}" alt="Photo de profil">
            <form class="form-account" method="post" action="update_photo.php" onsubmit="return confirm('Veuillez vous reconnecter pour confirmer les modifications.');" enctype="multipart/form-data">
                <input type="file" id="profile_photo" name="profile_photo" accept="image/*">
                <button class="button-form" type="submit">Changer</button>
            </form>
        </div>
        <div class='infos'>
            <p>ID: <span>{{user.user_id}}</span></p>

            <form class="form-account" method="post" action="update.php" onsubmit="return confirm('Veuillez vous reconnecter pour confirmer les modifications.');">
                <label for="user_firstname">Prénom:</label>
                <input class="inputclass" type="text" id="user_firstname" name="user_firstname" value={{user.name}}>
                <button class="button-form" type="submit">Changer le prénom</button>
            </form>
            <form class="form-account" method="post" action="update.php" onsubmit="return confirm('Veuillez vous reconnecter pour confirmer les modifications.');">
                <label for="user_lastname">Nom:</label>
                <input class="inputclass" type="text" id="user_lastname" name="user_lastname" value={{user.surname}}>
                <button class="button-form" type="submit">Changer le nom</button>
            </form>
            <form class="form-account" method="post" action="update.php" onsubmit="return confirm('Veuillez vous reconnecter pour confirmer les modifications.');">
                <label for="user_email">Email:</label>
                <input class="inputclass" type="email" id="user_email" name="user_email" value={{user.email}}>
                <button class="button-form" type="submit">Changer l'email</button>
            </form>
            <form class="form-account" id="changePassword" method="post" action="update.php" onsubmit="return confirm('Veuillez vous reconnecter pour confirmer les modifications.');" >
                <label for="old_password">Ancien mot de passe:</label>
                <input class="inputclass" type="password" id="old_password" name="old_password" value='************' required>
            </form>
            <form class="form-account" id="changePassword" method="post" action="update.php" onsubmit="return confirm('Veuillez vous reconnecter pour confirmer les modifications.');">
                <label for="new_password">Nouveau mot de passe:</label>
                <input class="inputclass"type="password" id="new_password" name="new_password" required>
                <button class="button-form" type="submit">Changer le mot de passe</button>
            </form>
        </div>
    </div>
</div>
{% if error_message %}
    <script>
        alert("{{ error_message }}");
    </script>
{% endif %}
{% endblock %}
